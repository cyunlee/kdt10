<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>방명록 실습</title>
    </head>

  <body>
    <span>방명록입니다.</span><br /><br />
    <span style="font-weight: bold">작성자</span>
    <input type="text" id="name" value="" /> <br />
    <span style="font-weight: bold">내용</span>
    <input type="text" id="content" value="" />

    <button onlick="writeNote()">작성</button> <br /><br />

    <table id="table" border="1" cellpadding="10" cellspacing="1">
      <tr>
        <th>번호</th>
        <th>작성자</th>
        <th>내용</th>
        <th>작성일</th>
      </tr>
    </table>

    <script>
      //전역변수 cnt라는 변수 만들기
      //전역변수 : 어디서든 script 태그 안에서 사용 가능
      let cnt = 1;

      function writeNote() {
        //작성자, 내용 요소 선택, 값 가져오기
        let nameVal = document.getElementById("name").value;
        let contentVal = document.getElementById("content").value;

        //테이블 추가
        //여러개의 자식을 추가할 경우 : 거꾸로 추가해주면 된다
        // td만들기 -> td를 tr에 추가 -> 이 tr을 통째로 table에 추가

        //테이블 요소 선택
        let table = document.getElementById("table");
        //새로운 요소 만들기 (tr, td - 4개 - 번호, 작성자, 내용, 작성일)
        let garo = document.createElement("tr"); //<tr></tr>
        // td 4개 만들기
        let td1 = document.createElement("td");
        let td2 = document.createElement("td");
        let td3 = document.createElement("td");
        let td4 = document.createElement("td");

        // td 안의 내용 값 채우기
        // td1 : 순서(번호)
        // td2 : 작성자
        // td3 : 내용
        // td4 : 작성 시간

        td1.innerText = cnt;
        cnt++; // cnt 1씩 증가
        td2.innerText = nameVal;
        td3.innerText = contentVal;

        let date = new Date();
        td4.innerText =
          date.getFullYear() +
          "-" +
          (date.getMonth() + 1) +
          "-" +
          date.getDate();

        // tr(garo) 요소에 만든 td들 자식 요소로 추가하기

        garo.appendChild(td1);
        garo.appendChild(td2);
        garo.appendChild(td3);
        garo.appendChild(td4);

        // tr 요소를 table 요소에 자식요소로 추가

        table.appendChild(garo);
      }
    </script>
  </body>
  
</html>
